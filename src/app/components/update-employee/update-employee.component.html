<div class="p-5 flex flex-col justify-center gap-3">

  <div class="flex items-center gap-5 text-2xl font-medium">
    <button class="flex items-center" routerLink="/dashboard/employees">
      <mat-icon fontIcon="arrow_back" />
    </button>
    <h1>Datos del trabajador</h1>
  </div>

  <div>
    <form [formGroup]="updateEmployeeForm" (ngSubmit)="onSubmit()">
      <div class="flex flex-col gap-3">
        <div class="flex flex-col gap-1">
          <label for="fullName">Nombre y apellidos</label>
          <input type="text" name="fullName" formControlName="fullName"
            class="rounded-md w-full p-3 border border-gray-400 focus:border-amber-500 outline-none"
          >
          @if(nameHasRequiredError()) {
            <span class="text-red-600">Este campo es obligatorio</span>
          }
        </div>
        
        <div class="flex flex-col gap-1">
          <label for="dni">DNI</label>
          <input type="text" name="dni" formControlName="dni"
            class="rounded-md w-full p-3 border border-gray-400 focus:border-amber-500 outline-none"
          >
          @if(dniHasRequiredError()) {
            <span class="text-red-600">Este campo es obligatorio</span>
          }
          @if(dniHasPatternError()) {
            <span class="text-red-600">Este campo debe contener 8 números y una letra</span>
          }
        </div>
        
        <div class="flex flex-col gap-1">
          <label for="email">Correo electrónico</label>
          <input type="text" name="email" formControlName="email"
            class="rounded-md w-full p-3 border border-gray-400 focus:border-amber-500 outline-none"
          >
          @if(emailHasRequiredError()) {
            <span class="text-red-600">Este campo es obligatorio</span>
          }
          @if(emailHasEmailTypeError()) {
            <span class="text-red-600">Este campo tiene que tener un formato válido de email</span>
          }
        </div>
        
        <div class="flex flex-col gap-1">
          <label for="phone">Teléfono</label>
          <input type="tel" name="phone" formControlName="phone"
            class="rounded-md w-full p-3 border border-gray-400 focus:border-amber-500 outline-none"
          >
          @if(phoneHasRequiredError()) {
            <span class="text-red-600">Este campo es obligatorio</span>
          }
          @if(phoneHasPatternError()) {
            <span class="text-red-600">Este campo debe tener 9 dígitos</span>
          }
        </div>

        <div class="flex flex-col gap-1">
          <label for="password">Contraseña</label>
          <input type="password" name="password" formControlName="password"
            class="rounded-md w-full p-3 border border-gray-400 focus:border-amber-500 outline-none
            disabled:bg-neutral-200"
          >
          @if(passwordHasRequiredError()) {
            <span class="text-red-600">Este campo es obligatorio</span>
          }
          @if(passwordHasLenghtError()) {
            <span class="text-red-600">La contraseña tiene que tener un mínimo de 6 caracteres</span>
          }
          <div class="flex items-center gap-3">
            <label for="updatePassword">Actualizar contraseña</label>
            <input type="checkbox" name="updatePassword" id="updatePassword" formControlName="updatePassword"
              class="w-5 h-5 rounded-md border border-gray-400 focus:border-amber-500 outline-none accent-red-600 cursor-pointer"
              (change)="tooglePasswordDisabled()"
            >
          </div>
        </div>

        <div class="flex flex-col gap-1">
          <label for="employeeType">Tipo de trabajador</label>
          <select name="employeeType" formControlName="employeeType"
            class="rounded-md w-full p-3 border border-gray-400 bg-white focus:border-amber-500 outline-none">
            @for (employeeType of employeeTypes; track employeeType.id) {
              <option [value]="employeeType.valor">{{ employeeType.descripcion }}</option>
            }
          </select>
          @if(employeeTypeHasRequiredError()) {
            <span class="text-red-600">Este campo es obligatorio</span>
          }
        </div>

        <div class="flex items-center gap-3">
          <label for="admin">Administrador</label>
          <input type="checkbox" name="admin" formControlName="admin"
            class="w-5 h-5 rounded-md border border-gray-400 focus:border-amber-500 outline-none accent-red-600 cursor-pointer"
          >
        </div>
        <button class="bg-amber-500 rounded-md w-full p-2 text-white" type="submit">Actualizar datos</button>
      </div>
    </form>
  </div>

</div>
